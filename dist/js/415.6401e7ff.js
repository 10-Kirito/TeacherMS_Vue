"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[415],{5415:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var s=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("该页面是针对学生信息的增删查改内容，该内容还包含了学生密码的重置！")]),t("br"),t("div",{staticStyle:{margin:"10px 0"}},[t("el-input",{staticStyle:{width:"290px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入学生号"},model:{value:e.searchInfo.studentId,callback:function(t){e.$set(e.searchInfo,"studentId",t)},expression:"searchInfo.studentId"}}),t("el-input",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入学生姓名"},model:{value:e.searchInfo.studentName,callback:function(t){e.$set(e.searchInfo,"studentName",t)},expression:"searchInfo.studentName"}}),[t("el-select",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{placeholder:"请输入学生性别"},model:{value:e.searchInfo.gender,callback:function(t){e.$set(e.searchInfo,"gender",t)},expression:"searchInfo.gender"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],[t("el-select",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{placeholder:"请选择所属学院"},model:{value:e.searchInfo.departName,callback:function(t){e.$set(e.searchInfo,"departName",t)},expression:"searchInfo.departName"}},e._l(e.options,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1)],t("el-button",{staticStyle:{"margin-left":"5px",width:"100px"},attrs:{type:"primary"},on:{click:e.getAllStudents}},[e._v("搜索")]),t("el-button",{staticStyle:{"margin-left":"5px",width:"100px"},attrs:{type:"danger"},on:{click:e.reset}},[e._v("重置")])],2),t("el-table",{attrs:{data:e.studentDetails,border:"",stripe:"","header-cell-class-name":"headerBg"}},[t("el-table-column",{attrs:{prop:"studentId",label:"学生学号",width:"140",align:"center"}}),t("el-table-column",{attrs:{prop:"studentName",label:"学生姓名",width:"140",align:"center"}}),t("el-table-column",{attrs:{prop:"birthday",label:"出生年月",width:"140",align:"center"}}),t("el-table-column",{attrs:{prop:"nativePlace",label:"籍贯",width:"140",align:"center"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"电话号码",align:"center"}}),t("el-table-column",{attrs:{prop:"departName",label:"所属学院",align:"center"}}),t("el-table-column",{attrs:{prop:"state",label:"当前状态",align:"center"}}),t("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("重置密码 "),t("i",{staticClass:"el-icon-edit"})])]}}])})],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[2,5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],l={name:"StudentDetails",data(){return{studentDetails:[],total:0,pageNum:1,pageSize:10,searchInfo:{studentId:null,studentName:"",gender:"",departName:"",status:""},options:[]}},created(){this.getAllDepartName(),this.getAllStudents()},methods:{handleEdit(e){throw console.log(e),this.request.get("/student-passwords/reset",{params:{studentId:e.studentId}}).then((e=>{this.$message.success(e.msg)}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},getAllStudents(){this.request.get("/student/getallstudents",{params:{currentPage:this.pageNum,pageSize:this.pageSize,studentId:this.searchInfo.studentId,studentName:this.searchInfo.studentName,gender:this.searchInfo.gender,departName:this.searchInfo.departName,status:this.searchInfo.status}}).then((e=>{this.studentDetails=e.data.records,this.pageSize=e.data.size,this.pageNum=e.data.current,this.total=e.data.total}))},getAllDepartName(){this.request.get("/department/allName").then((e=>{this.options=e}))},reset(){this.searchInfo={},this.getAllStudents()}}},r=l,i=a(1001),d=(0,i.Z)(r,s,n,!1,null,"e14e41ae",null),o=d.exports}}]);
//# sourceMappingURL=415.6401e7ff.js.map