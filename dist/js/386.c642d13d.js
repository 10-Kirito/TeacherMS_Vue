"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[386],{2386:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("教师授课情况!!!")]),t("div",{staticStyle:{margin:"10px 0"}},[t("el-input",{staticStyle:{width:"290px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入教师号"},model:{value:e.searchInfo.teacherId,callback:function(t){e.$set(e.searchInfo,"teacherId",t)},expression:"searchInfo.teacherId"}}),t("el-input",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入教师名"},model:{value:e.searchInfo.teacherName,callback:function(t){e.$set(e.searchInfo,"teacherName",t)},expression:"searchInfo.teacherName"}}),t("el-input",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入教师性别"},model:{value:e.searchInfo.gender,callback:function(t){e.$set(e.searchInfo,"gender",t)},expression:"searchInfo.gender"}}),t("el-input",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入教师职称"},model:{value:e.searchInfo.position,callback:function(t){e.$set(e.searchInfo,"position",t)},expression:"searchInfo.position"}}),t("el-input",{staticStyle:{width:"290px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"教师所属院系"},model:{value:e.searchInfo.departId,callback:function(t){e.$set(e.searchInfo,"departId",t)},expression:"searchInfo.departId"}}),t("el-button",{staticStyle:{"margin-left":"5px",width:"100px"},attrs:{type:"primary"},on:{click:e.load}},[e._v("搜索")]),t("el-button",{staticStyle:{"margin-left":"5px",width:"100px"},attrs:{type:"danger"},on:{click:e.reset}},[e._v("重置")])],1),t("div",{staticStyle:{margin:"10px 0","margin-top":"25px","margin-bottom":"25px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增 "),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"danger"},on:{click:e.handleDelMul}},[e._v("批量删除 "),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})]),t("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:"http://localhost:9090/class/importClass",accept:"xlsx","show-file-list":!1,"on-success":e.handleExcelImportSuccess}},[t("el-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[e._v("导入 "),t("i",{staticClass:"el-icon-upload2",staticStyle:{"margin-left":"2px"}})])],1),t("el-button",{attrs:{type:"primary"},on:{click:e.exp}},[e._v("导出 "),t("i",{staticClass:"el-icon-download",staticStyle:{"margin-left":"2px"}})])],1),t("el-table",{attrs:{data:e.tableData,border:"",stripe:"","header-cell-class-name":"headerBg"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"teacherId",label:"教师号"}}),t("el-table-column",{attrs:{prop:"teacherName",label:"教师名"}}),t("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t("el-table-column",{attrs:{prop:"birthday",label:"出生年月"}}),t("el-table-column",{attrs:{prop:"position",label:"职称"}}),t("el-table-column",{attrs:{prop:"departId",label:"所属院系"}}),t("el-table-column",{attrs:{width:"212"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑 "),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.handleDel(a.row)}}},[e._v("删除 "),t("i",{staticClass:"el-icon-circle-close",staticStyle:{"margin-left":"2px"}})])]}}])})],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"教师信息",visible:e.dialogFormVisible,width:"20%"},on:{"update:visible":function(t){e.dialogFormVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span",{staticClass:"dialog-footer"},[t("el-button",{staticStyle:{"margin-right":"80px"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),t("el-button",{staticStyle:{"margin-right":"40px"},attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确认")])],1)]},proxy:!0}])},[t("el-form",{attrs:{"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"教师号"}},[t("el-input",{staticStyle:{width:"220px"},attrs:{autocomplete:"off"},model:{value:e.addInfo.teacherId,callback:function(t){e.$set(e.addInfo,"teacherId",t)},expression:"addInfo.teacherId"}})],1),t("el-form-item",{attrs:{label:"教师名"}},[t("el-input",{staticStyle:{width:"220px"},attrs:{autocomplete:"off"},model:{value:e.addInfo.teacherName,callback:function(t){e.$set(e.addInfo,"teacherName",t)},expression:"addInfo.teacherName"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"性别"},model:{value:e.addInfo.gender,callback:function(t){e.$set(e.addInfo,"gender",t)},expression:"addInfo.gender"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1),t("el-form-item",{attrs:{label:"出生年月"}},[t("div",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addInfo.birthday,callback:function(t){e.$set(e.addInfo,"birthday",t)},expression:"addInfo.birthday"}})],1)]),t("el-form-item",{attrs:{label:"职称"}},[t("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"职称"},model:{value:e.addInfo.position,callback:function(t){e.$set(e.addInfo,"position",t)},expression:"addInfo.position"}},[t("el-option",{attrs:{label:"辅导员",value:"辅导员"}}),t("el-option",{attrs:{label:"助教",value:"助教"}}),t("el-option",{attrs:{label:"讲师",value:"讲师"}}),t("el-option",{attrs:{label:"副教授",value:"副教授"}}),t("el-option",{attrs:{label:"教授",value:"教授"}})],1)],1),t("el-form-item",{attrs:{label:"所属院系"}},[t("el-input",{staticStyle:{width:"220px"},attrs:{autocomplete:"off"},model:{value:e.addInfo.departId,callback:function(t){e.$set(e.addInfo,"departId",t)},expression:"addInfo.departId"}})],1)],1)],1)],1)},s=[],i={name:"TeacherDetails",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,searchInfo:{teacherId:null,teacherName:"",gender:"",position:"",departId:null},dialogFormVisible:!1,addInfo:{teacherId:null,teacherName:"",gender:"",birthday:"",position:"",departId:null},multipleSelection:[]}},created(){this.load()},methods:{handleExcelImportSuccess(){this.$message.success("文件上传成功！"),this.load()},exp(){window.open("http://localhost:9090/teacher/exportAll")},load(){this.request.get("/teacher/page",{params:{currentPage:this.pageNum,pageSize:this.pageSize,teacherId:this.searchInfo.teacherId,teacherName:this.searchInfo.teacherName,gender:this.searchInfo.gender,position:this.searchInfo.position,departId:this.searchInfo.departId}}).then((e=>{this.tableData=e.records,this.total=e.total,console.log(e)}))},reset(){this.pageNum=1,this.searchInfo.teacherId=null,this.searchInfo.teacherName="",this.searchInfo.gender="",this.searchInfo.position="",this.searchInfo.departId=null,this.load()},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageSize=e,this.load()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.pageNum=e,this.load()},handleAdd(){this.dialogFormVisible=!0,this.addInfo={}},handleSave(){this.request.post("/teacher",this.addInfo).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))},handleDel(e){this.$confirm("此操作将永久删除该教师信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.request.post("/teacher/delete",e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleEdit(e){this.addInfo=e,this.dialogFormVisible=!0},handleSelectionChange(e){console.log(e),this.multipleSelection=e},handleDelMul(){this.$confirm("此操作将永久删除这些教师信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.request.post("/teacher/muldelete",this.multipleSelection).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},o=i,n=a(1001),r=(0,n.Z)(o,l,s,!1,null,"79b52682",null),c=r.exports}}]);
//# sourceMappingURL=386.c642d13d.js.map