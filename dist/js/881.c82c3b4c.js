"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[881],{2881:function(e,s,t){t.r(s),t.d(s,{default:function(){return l}});var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"wrapper"},[s("div",{staticStyle:{margin:"270px auto","background-color":"#fff",width:"400px",height:"380px",padding:"20px","border-radius":"10px"}},[e._m(0),s("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{staticStyle:{margin:"10px 0"},attrs:{size:"medium","prefix-icon":"el-icon-user"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{staticStyle:{margin:"10px 0"},attrs:{size:"medium","prefix-icon":"el-icon-lock","show-password":""},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),s("div",{staticStyle:{margin:"10px 0","text-align":"center"}},[s("el-button",{staticStyle:{width:"360px"},attrs:{type:"primary",size:"big",autocomplete:"off"},on:{click:e.login}},[e._v("登录")])],1),s("el-form-item",{attrs:{prop:"identity"}},[s("el-radio-group",{model:{value:e.user.identity,callback:function(s){e.$set(e.user,"identity",s)},expression:"user.identity"}},[s("el-radio",{staticStyle:{"margin-right":"72px"},attrs:{label:"admin"}},[e._v("管理员")]),s("el-radio",{staticStyle:{"margin-right":"72px"},attrs:{label:"teacher"}},[e._v("教师")]),s("el-radio",{attrs:{label:"student"}},[e._v("学生")])],1)],1)],1)],1)])},i=[function(){var e=this,s=e._self._c;return s("div",{staticStyle:{margin:"20px 0","text-align":"center","font-size":"24px"}},[s("b",[e._v("登 录")])])}],a=(t(7658),{name:"Login",data(){return{user:{username:"",password:"",identity:"student"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:4,max:20,message:"账号长度最低在 4 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度建议在 6 到 20 个字符",trigger:"blur"}],identity:[{required:!0,message:"请选择您的身份",trigger:"blur"}]}}},methods:{login(){this.$refs["userForm"].validate((e=>{if(!e)return console.log("error submit!!"),!1;"admin"==this.user.identity?this.adminLogin():"teacher"==this.user.identity?this.teacherLogin():"student"==this.user.identity&&this.studentLogin()}))},adminLogin(){this.request.get("admin-passwords/login",{params:{name:this.user.username,password:this.user.password}}).then((e=>{"SUCCESS"==e.code?(localStorage.setItem("userInfo",JSON.stringify(e.data)),this.$router.push("/admin"),this.$message.success("登陆成功!")):"FORBIDDEN"==e.code?this.$message.success("用户密码错误!"):this.$message.success("该用户不存在!")}))},studentLogin(){this.request.get("student-passwords/login",{params:{id:this.user.username,password:this.user.password}}).then((e=>{"SUCCESS"==e.code?(localStorage.setItem("userInfo",JSON.stringify(e.data)),this.$router.push("/student"),this.$message.success("登陆成功!")):"FORBIDDEN"==e.code?this.$message.error("用户密码错误!"):this.$message.error("该用户不存在!")}))},teacherLogin(){this.request.get("teacher-passwords/login",{params:{id:this.user.username,password:this.user.password}}).then((e=>{"SUCCESS"==e.code?(localStorage.setItem("userInfo",JSON.stringify(e.data)),this.$router.push("/teacher"),this.$message.success("登陆成功!")):"FORBIDDEN"==e.code?this.$message.success("用户密码错误!"):this.$message.success("该用户不存在!")}))}}}),n=a,u=t(1001),o=(0,u.Z)(n,r,i,!1,null,null,null),l=o.exports}}]);
//# sourceMappingURL=881.c82c3b4c.js.map