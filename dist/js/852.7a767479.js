"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[852],{7852:function(e,l,a){a.r(l),a.d(l,{default:function(){return y}});var t=function(){var e=this,l=e._self._c;return l("div",[l("h1",[e._v(" 这里是学生退课界面！！")]),l("br"),l("el-table",{attrs:{data:e.classDetail,border:"",stripe:"","header-cell-class-name":"headerBg","header-cell-style":{background:"#ADD8E6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),l("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"#",width:"40px",align:"center"}}),l("el-table-column",{attrs:{prop:"classId",label:"课程号"}}),l("el-table-column",{attrs:{prop:"className",label:"课程名"}}),l("el-table-column",{attrs:{prop:"score",label:"学分"}}),l("el-table-column",{attrs:{prop:"teacherId",label:"教师号"}}),l("el-table-column",{attrs:{prop:"teacherName",label:"教师姓名"}}),l("el-table-column",{attrs:{prop:"time",label:"上课时间"}}),l("el-table-column",{attrs:{prop:"location",label:"上课地点"}}),l("el-table-column",{attrs:{prop:"questionTime",label:"答疑时间"}}),l("el-table-column",{attrs:{prop:"school",label:"校区"}})],1),l("div",{staticStyle:{"margin-top":"10px"}},[l("el-button",{attrs:{type:"danger"},on:{click:e.putData}},[e._v("退课")])],1),l("div",{staticClass:"grid-content bg-purple-light",staticStyle:{"margin-top":"10px"}},[l("el-table",{attrs:{data:e.tableData,"header-cell-style":{background:"#ADD8E6",color:"#606266"},border:"",stripe:"","header-cell-class-name":"headerBg"}},[l("el-table-column",{attrs:{prop:"orderNumber",label:"#",width:"45px"}}),l("el-table-column",{attrs:{prop:"time",label:"上课时间"}}),l("el-table-column",{attrs:{prop:"weekArray.monday",label:"一"}}),l("el-table-column",{attrs:{prop:"weekArray.tuesday",label:"二"}}),l("el-table-column",{attrs:{prop:"weekArray.wednesday",label:"三"}}),l("el-table-column",{attrs:{prop:"weekArray.thursday",label:"四"}}),l("el-table-column",{attrs:{prop:"weekArray.friday",label:"五"}}),l("el-table-column",{attrs:{prop:"weekArray.saturday",label:"六"}}),l("el-table-column",{attrs:{prop:"weekArray.sunday",label:"日"}})],1)],1)],1)},r=[],n=a(6369),s={inject:["reload"],name:"dropClass",data(){return{user:{birthday:null,departId:null,gender:null,nativePlace:null,phoneNumber:null,state:null,studentId:null,studentName:null},classDetail:[],multipleSelection:[],tableData:[{orderNumber:1,time:"8:00-8:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:2,time:"8:55-9:40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:3,time:"10:00-10:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:4,time:"10:55-11.40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:5,time:"13:00-13:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:6,time:"13:55-14:40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:7,time:"15:00-15:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:8,time:"15:55-16:40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:9,time:"18:00-18:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:10,time:"18:55-19:40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:11,time:"20:00-20:45",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}},{orderNumber:12,time:"20:55-21:40",weekArray:{monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null}}],allTime:[]}},async created(){await this.getAllClass(),await this.getAllClassTime(),await this.handleData()},methods:{getUser(){const e=JSON.parse(localStorage.getItem("userInfo"));e&&n["default"].set(this,"user",e)},async getAllClass(){this.getUser(),await this.request.get("/select-class/student/selected",{params:{studentId:this.user.studentId}}).then((e=>{console.log(e),this.classDetail=e.data}))},async getAllClassTime(){await this.request.get("/select-class/student/allTime",{params:{studentId:this.user.studentId}}).then((e=>{this.allTime=e.data}))},handleSelectionChange(e){this.multipleSelection=e},indexMethod(e){e++;let l=64+e;return String.fromCharCode(l)},handleData(){let e=64;for(let l=0;l<this.allTime.length;l++){let a=this.allTime[l].split("，");e++,this.subHandleData(a,String.fromCharCode(e))}},subHandleData(e,l){for(let a=0;a<e.length;a++){let t=e[a].split("-");this.fillData(t[0].charAt(0),t[0].charAt(1),t[1],l)}},fillData(e,l,a,t){switch(e){case"一":for(let e=parseInt(l);e<=parseInt(a);e++)this.tableData[e-1].weekArray.monday=t;break;case"二":for(let e=parseInt(l);e<=parseInt(a);e++)this.tableData[e-1].weekArray.tuesday=t;break;case"三":for(let e=parseInt(l);e<=parseInt(a);e++)this.tableData[e-1].weekArray.wednesday=t;break;case"四":for(let e=parseInt(l);e<=parseInt(a);e++)this.tableData[e-1].weekArray.thursday=t;break;case"五":for(let e=parseInt(l);e<=parseInt(a);e++)this.tableData[e-1].weekArray.friday=t;break}},putData(){if(0!=this.multipleSelection.length){const e=encodeURIComponent(JSON.stringify(this.user)),l=encodeURIComponent(JSON.stringify(this.multipleSelection));this.request.get("/select-class/student/delete",{params:{encodeStudent:e,encodeData:l}}).then((e=>{this.$message.success(e.msg),this.reload()}))}else this.multipleSelection=[],this.reload(),this.$message.error("请选择课程！")}}},u=s,d=a(1001),o=(0,d.Z)(u,t,r,!1,null,"535b623c",null),y=o.exports}}]);
//# sourceMappingURL=852.7a767479.js.map